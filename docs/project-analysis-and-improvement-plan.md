# 项目分析与改进计划（执行版）

**更新日期**：2026-02-26  
**执行原则**：先统一文档基线，再清理技术债务，随后推进 UI/UX 重构

## 1. 当前项目功能总结

### 内容与信息架构
- 基于 Astro + Markdown 的静态博客。
- 支持文章与摄影两类内容（`type: article | photography`）。
- 支持标签聚合、标签详情页、分页、RSS、站点地图。
- 支持草稿字段（`draft`）控制发布。

### 摄影能力
- 摄影内容有独立展示布局（全屏/沉浸式风格）。
- 首页与列表支持摄影内容预览图与视觉标识。
- 提供 `npm run photos:sync` 脚本：图片压缩、EXIF 提取、自动生成摄影文章 frontmatter。

### 体验与工程能力
- 响应式设计，含暗色模式。
- 有 PWA 相关能力（manifest、offline 页面、service worker）。
- Vercel 静态部署，自动构建发布。
- 当前本地构建成功，最近一次构建结果：**67 pages built in 5.14s**。

## 2. 项目优点

- 技术选型合理：Astro 对内容型站点性能与维护成本友好。
- 文档覆盖较全：包含阶段进展、内容管理、部署与摄影功能说明。
- 领域能力突出：摄影内容链路（采集到发布）自动化程度高。
- 内容模型明确：content collection + schema，结构可扩展。
- 可运维性较好：静态站点 + Vercel，发布简单，安全面较小。

## 3. 主要缺点与风险

### 文档一致性问题（当前最明显）
- 页面数量在文档中有多个版本（48 / 52+），与当前构建 67 不一致。
- 某些阶段文档标注“延期/未做”的功能（如分页）已在代码中存在，文档未回写。
- “双语支持、可访问性达标、性能分数”等表述缺少统一的可复现验证基线。

### 流程与质量保障不足
- 缺少统一的“文档事实来源”（single source of truth）与自动校验流程。
- 缺少 CI 中的质量门禁（构建、链接校验、基础 SEO/A11y 检查、性能预算）。
- `photos:sync` 直接写内容，缺少 dry-run、重复冲突策略与失败恢复说明。

### 信息架构与内容治理可继续优化
- 标签存在命名风格不统一（中英混用、大小写/空格差异）风险，影响聚合质量。
- 部分文档更新日期停留在 2025-10，说明文档维护机制弱于代码演进节奏。

## 4. 改进计划（按当前决策重排）

## Phase 1（立即开始）文档基线统一
- 以 `npm run build` 结果作为页面数与构建耗时基线。
- 更新 `docs/README.md`，移除冲突数据与过时“已完成”表述。
- 在核心文档写明“数据采样日期 + 验证命令”。
- 新增统一进度记录文档，持续追踪改进动作。

**阶段目标**
- 项目文档对当前状态“单一口径、可复现、可追溯”。

## Phase 2（紧接执行）技术债务清理
- 清理首页和布局中的冗余结构、重复容器和遗留样式。
- 修复未使用变量/导入、降低无效 CSS 与维护复杂度。
- 减少非必要外部依赖请求（优先字体与首屏阻塞项）。
- 建立最小质量门禁脚本（build + 基础校验）并接入 CI。

**阶段目标**
- 降低维护成本，减少“改 UI 牵连回归”的风险。

## Phase 3（核心投入）UI/UX 重构
- 目标：更现代、更简洁、更快打开、降低阅读门槛。
- 首先重构首页信息架构：缩短首屏路径，明确内容入口（文章/摄影）。
- 强化阅读可用性：字体层级、行距、卡片密度、交互反馈、移动端触达。
- 分阶段扩展到文章列表、文章详情、摄影列表，保证视觉与交互一致。

**阶段目标**
- 用户在 5 秒内明确站点内容结构，并能一跳进入目标内容。

## Phase 4（并行持续）内容治理与发布流程增强
- 改造 `photos:sync`（`--dry-run`、冲突检测、结构化日志）。
- 建立标签词表和归一规则，减少标签碎片化。
- 建立内容健康检查（描述缺失、孤立标签、发布日期异常）。

**阶段目标**
- 内容生产稳定、可审计，信息架构长期可维护。

## 5. 当前执行顺序

1. Phase 1 文档基线统一（进行中）  
2. Phase 2 技术债务清理（进行中）  
3. Phase 3 UI/UX 第一轮重构（进行中）  
4. Phase 4 内容治理与自动化增强（待开始）  

## 6. 30 天目标（可量化）

- 文档一致性冲突项：从当前多处冲突降到 0。
- 技术债：首页关键页面无重复结构、无明显遗留样式块。
- UI/UX：首页首屏阅读路径精简，文章/摄影入口点击路径清晰。
- CI 覆盖：构建、链接、schema 校验全部自动化并阻断失败合并。
